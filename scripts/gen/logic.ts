import { writeFile } from "node:fs/promises";
import { row, table } from "./table.ts";

const chunks = ['// auto generated by scripts/gen/logic.ts\n\n'];

console.log('generating not table');
chunks.push(`export type notTable = ${
	row(16, (x) => `${(15 - x).toString(10)}`, { rawFormat: '8-per-line' })
};\n\n`);

console.log('generating and table');
chunks.push(`export type andTable = ${
	table(16, 16, (x, y) => `${(x & y).toString(10)}`, { rawFormat: '8-per-line' })
};\n\n`);

console.log('generating or table');
chunks.push(`export type orTable = ${
	table(16, 16, (x, y) => `${(x | y).toString(10)}`, { rawFormat: '8-per-line' })
};\n\n`);

console.log('generating xor table');
chunks.push(`export type xorTable = ${
	table(16, 16, (x, y) => `${(x ^ y).toString(10)}`, { rawFormat: '8-per-line' })
};`);

writeFile('./math/tables/logic.ts', chunks.join(''));